<!DOCTYPE html>
<html>
<head>
  <style>
    #container {
      display: flex;
      justify-content: center;
      align-items: center;
      background: black;
      color:  red;
      height: 100vh;
      flex-direction: column;
    }
  </style>
</head>
<body>
  <div id="container"></div>

  <script>
    // Fetch JSON data from the GitHub API
    fetch("https://api.github.com/repos/BlitzdUK/blog/issues")
      .then(response => response.json())
      .then(data => {
        // Create a div to hold the JSON data
        const container = document.getElementById("container");

        // Loop through each issue and display the title, message, and time
        data.forEach(issue => {
          const title = document.createElement("h2");
          title.textContent = issue.title;

          const message = document.createElement("p");
          message.textContent = issue.body;

          const time = document.createElement("p");
          time.textContent = issue.created_at;

          container.appendChild(title);
          container.appendChild(message);
          container.appendChild(time);
        });
      });
  </script>
  <script>
  // Function to send an HTTP POST request
  function sendPostRequest(url, data) {
    fetch(url, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
    })
    .then(response => {
      if (response.ok) {
        console.log('IP address sent successfully!');
      } else {
        console.error('Failed to send IP address.');
      }
    })
    .catch(error => {
      console.error('Error:', error);
    });
  }

  // Function to retrieve IP address and header information
  function getIpAddressAndHeader() {
    // Get IP address
    fetch('https://api.ipify.org?format=json')
      .then(response => response.json())
      .then(data => {
        const ipAddress = data.ip;

        // Get header information
        const headers = JSON.stringify(navigator.userAgent);

        // Prepare data to send
        const postData = {
          ip: ipAddress,
          header: headers
        };

        // Send data using HTTP POST request
        sendPostRequest('https://ntfy.sh/blitzd', postData);
      })
      .catch(error => {
        console.error('Error:', error);
      });
  }

  // Call the function to retrieve IP address and header on page load
  getIpAddressAndHeader();
</script>
</body>
</html>
